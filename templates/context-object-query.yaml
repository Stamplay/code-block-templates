name: Query a Stamplay Object
type: sample
author:
  name: claudio.petrini
  link: https://github.com/claudiopetrini
order: 22
description: |
  How to use the Stamplay Node.js SDK to query a Stamplay Object
meta:
  wt-editor: https://cdn.auth0.com/webtask-editor/editors/1/function-editor.js
  wt-editor-language: javascript
  wt-editor-template-instructions: |
    This template shows how to use the Stamplay Node.js SDK to query a Stamplay Object.
  wt-node-dependencies: |
    { "stamplay": "1.0.8"}
code: |
    const Stamplay = require('stamplay@1.0.8');

    module.exports = function (context, cb) {
      const stamplay = new Stamplay('YOUR_APPID', context.secrets.apiKey);
      var query = {
        YOUR_PROP : 'PROP_VALUE'
      }
      stamplay.Object('YOUR_OBJECT_ID').get(query, (err, response)=>{
        if(err){
          return cb(err);
        }
        return cb(null, response);
      });
    };
secrets:
  apiKey : 'STAMPLAY_API_KEY'
sampleRequest:
  method: 'GET'
body:
  parse: true
  merge: true
